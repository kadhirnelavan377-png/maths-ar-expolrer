/* ================= ROOT VARIABLES ================= */
:root{
  --neon-bg: #000;
  --neon-accent: #00eaff;
  --neon-pink: #8b00ff;
  --kids-bg: #fff7e6;
  --kids-panel: #fffbf0;
  --kids-accent: #ff7a59;
  --kids-accent2: #59c0ff;
  --kids-text: #2b2b2b;
}

html,body{
  height:100%;
  margin:0;
  padding:0;
  font-family: Arial, sans-serif;
  background:var(--neon-bg);
  color:#dffaff;
}

body.kids{
  background: linear-gradient(180deg,#fff7e6,#fff0da);
  color: var(--kids-text);
}

/* ================= APP LAYOUT ================= */
.app{
  display:flex;
  gap:16px;
  padding:16px;
  min-height:100vh;
  justify-content:center;
}

/* ================= STAGE ================= */
.stage{
  position: relative;
  width:100%;
  max-width:1000px;
  height:60vh;
  min-height:320px;
  background:#020202;
  border-radius:12px;
  overflow:hidden;
  border:2px solid var(--neon-accent);
  box-shadow:0 0 25px rgba(0,234,255,.12);
}

body.kids .stage{
  background: linear-gradient(180deg,#fff,#ffeede);
  border:4px dashed rgba(255,122,89,.4);
}

video{
  width:100%;
  height:100%;
  object-fit:cover;
  transform:scaleX(-1);
}

canvas.overlay{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

/* ================= PANEL ================= */
.panel{
  width:340px;
  background:#030b15;
  padding:18px;
  border-radius:12px;
  border:2px solid var(--neon-pink);
}

body.kids .panel{
  background:var(--kids-panel);
  border:3px solid rgba(89,192,255,.15);
}

.panel h2{
  text-align:center;
  color:var(--neon-accent);
}

body.kids .panel h2{
  color:var(--kids-accent);
}

/* ================= TEXT ================= */
p span{
  color:#ff00ff;
}

body.kids p span{
  color:var(--kids-accent);
}

label{
  display:block;
  margin-top:8px;
  color:var(--neon-accent);
}

input[type=number]{
  width:100%;
  padding:6px;
  border-radius:6px;
  border:2px solid #00eaff;
  background:#000;
  color:#00eaff;
}

/* ================= GRID ================= */
.grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:6px;
  margin-top:14px;
}

.cell{
  width:28px;
  height:28px;
  border-radius:6px;
  background:#1b1b1b;
}

.cell.filled{
  background:#00eaff;
  box-shadow:0 0 12px #00eaff;
}

/* ================= BUTTONS ================= */
.btn{
  width:100%;
  margin-top:12px;
  padding:10px;
  background:#8b00ff;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.kids-btn{
  background: linear-gradient(90deg,var(--kids-accent),var(--kids-accent2));
  color:white;
  font-size:18px;
  border-radius:12px;
}

/* ================= FLOATING BUTTONS ================= */
#rateBtn,#kidsBtn,#gameBtn{
  position:fixed;
  right:20px;
  padding:12px 20px;
  border-radius:25px;
  border:none;
  cursor:pointer;
  z-index:9999;
}

#rateBtn{ top:18px; background:#8b00ff; color:#fff; }
#kidsBtn{ bottom:20px; background:#ffd9d0; }
#gameBtn{ bottom:80px; background:#00eaff; }

/* ================= GAME PANEL ================= */
#gamePanel{
  margin-top:12px;
  display:none;
  padding:12px;
  border-radius:10px;
}

/* ================= CHRISTMAS EFFECT ================= */
.snowflake{
  position:fixed;
  top:-10px;
  color:white;
  animation:fall linear infinite;
  z-index:99999;
}

@keyframes fall{
  to{ transform:translateY(100vh) rotate(360deg); opacity:.3 }
}

/* ================= LIGHTS ================= */
.christmas-lights{
  position:fixed;
  top:0;
  width:100%;
  display:flex;
  justify-content:space-between;
  padding:12px;
  z-index:99999;
}

.light-bulb{
  width:18px;
  height:28px;
  border-radius:50%;
  animation:glow 1.2s infinite alternate;
}

@keyframes glow{
  from{opacity:.5}
  to{opacity:1; transform:scale(1.2)}
}

/* ================= RESPONSIVE ================= */
@media(max-width:900px){
  .app{flex-direction:column}
  .panel{width:95%}
}
